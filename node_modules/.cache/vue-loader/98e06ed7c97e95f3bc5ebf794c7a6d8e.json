{"remainingRequest":"D:\\Source Code dan Latihan\\samsan\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\Source Code dan Latihan\\samsan\\src\\App.vue?vue&type=template&id=7ba5bd90","dependencies":[{"path":"D:\\Source Code dan Latihan\\samsan\\src\\App.vue","mtime":1608382770871},{"path":"D:\\Source Code dan Latihan\\samsan\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Source Code dan Latihan\\samsan\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Source Code dan Latihan\\samsan\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1607095271000},{"path":"D:\\Source Code dan Latihan\\samsan\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Source Code dan Latihan\\samsan\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1607095271000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIDxkaXY+DQogICAgPHZpZGVvDQogICAgICBhdXRvcGxheQ0KICAgICAgbXV0ZWQNCiAgICAgIHBsYXlzSW5saW5lDQogICAgICB2LWJpbmQ9ImNhbWVyYSINCiAgICAgIHdpZHRoPSI2NDAiDQogICAgICBoZWlnaHQ9IjQ4MCINCiAgICAgIGlkPSJjYW0iDQogICAgICBzdHlsZT0icG9zaXRpb246Zml4ZWQ7dG9wOjUwcHgiDQogICAgLz4NCiAgICA8Y2FudmFzDQogICAgICBpZD0iYyINCiAgICAgIHdpZHRoPSI2NDAiDQogICAgICBoZWlnaHQ9IjQ4MCINCiAgICAgIHN0eWxlPSJwb3NpdGlvbjpmaXhlZDt0b3A6NTBweCINCiAgICAvPg0KICA8L2Rpdj4NCg=="},{"version":3,"sources":["D:\\Source Code dan Latihan\\samsan\\src\\App.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,CAAC;IACF,CAAC,CAAC,CAAC,CAAC,CAAC;MACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACP,CAAC,CAAC,CAAC,CAAC;MACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAChC,CAAC;IACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACJ,CAAC,CAAC,CAAC,CAAC,CAAC;MACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAChC,CAAC;EACH,CAAC,CAAC,CAAC,CAAC,CAAC","file":"D:/Source Code dan Latihan/samsan/src/App.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div>\r\n    <video\r\n      autoplay\r\n      muted\r\n      playsInline\r\n      v-bind=\"camera\"\r\n      width=\"640\"\r\n      height=\"480\"\r\n      id=\"cam\"\r\n      style=\"position:fixed;top:50px\"\r\n    />\r\n    <canvas\r\n      id=\"c\"\r\n      width=\"640\"\r\n      height=\"480\"\r\n      style=\"position:fixed;top:50px\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport '@tensorflow/tfjs';\r\nimport * as cocoSsd from \"@tensorflow-models/coco-ssd\";\r\nimport { reactive, onMounted } from 'vue';\r\n\r\nexport default {\r\n  name: 'App',\r\n  setup(){\r\n    const camera = reactive({\r\n      srcObject : null,\r\n    });\r\n\r\n    const constraint = {\r\n      audio : false,\r\n      video : true\r\n    }\r\n\r\n    const webcam = async() => {\r\n      try{\r\n        camera.srcObject = await navigator.mediaDevices.getUserMedia(constraint);\r\n        await camera.onloadedmetadata;\r\n      }\r\n      catch(e)\r\n      {\r\n        console.log(e);\r\n      }\r\n    }\r\n\r\n    const load = async() => {\r\n      try{\r\n        await webcam();\r\n        const loadModel = await cocoSsd.load({base:\"mobilenet_v2\"});\r\n        const cam = document.getElementById('cam');\r\n        detectFromVideoFrame(loadModel, cam);\r\n      }\r\n      catch(e)\r\n      {\r\n        console.log(e);\r\n      }\r\n    }\r\n\r\n    const detectFromVideoFrame = (model, video) => {\r\n      model.detect(video).then(predictions=>{\r\n        showDetection(predictions);\r\n        requestAnimationFrame(()=>{\r\n          detectFromVideoFrame(model, video);\r\n        });\r\n      }, (error)=>{\r\n        console.log(error);\r\n      });\r\n    }\r\n\r\n    const showDetection = prediction => {\r\n      const c = document.getElementById(\"c\");\r\n      const ctx = c.getContext(\"2d\");\r\n      ctx.clearRect(0,0, ctx.canvas.width, ctx.canvas.height );\r\n      const font = \"24px helvetica\";\r\n      ctx.font = font;\r\n      ctx.textBaseline = \"top\";\r\n\r\n      prediction.forEach(prediction=>{\r\n        const x = prediction.bbox[0];\r\n        const y = prediction.bbox[1];\r\n        const width = prediction.bbox[2];\r\n        const height = prediction.bbox[3];\r\n\r\n        ctx.strokeStyle = \"#2fff00\";\r\n        ctx.lineWidth = 1;\r\n        ctx.strokeRect(x,y,width,height);\r\n\r\n        ctx.fillStyle=\"#2fff00\";  \r\n\r\n        let predictionText = prediction.class;\r\n        // if(predictionText==\"person\")\r\n        // {\r\n        //   predictionText=\"orang\";\r\n        //   alert(\"orang ganteng\");\r\n        // }\r\n\r\n        const textWidth = ctx.measureText(predictionText).width;\r\n        const textHeight = parseInt(font, 10);\r\n\r\n        ctx.fillRect(x,y,textWidth+10, textHeight+10);\r\n        ctx.fillRect(x,y+height-textHeight,textWidth+15, textHeight+10);\r\n\r\n        ctx.fillStyle=\"#000000\";\r\n        ctx.fillText(predictionText,x,y);\r\n        ctx.fillText(prediction.score.toFixed(2),x,y+height-textHeight);\r\n      });\r\n    }\r\n\r\n    onMounted(()=>{\r\n      if(navigator.mediaDevices.getUserMedia||navigator.mediaDevices.webkitGetUserMedia)\r\n      {\r\n        load();\r\n      }else{\r\n        alert(\"not supported\");\r\n      }\r\n    });\r\n\r\n    return{\r\n      camera,\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n"]}]}